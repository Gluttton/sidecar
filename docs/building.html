<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SideCar: Building and Installing</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SideCar
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="index.html">Radar SideCar Project</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Building and Installing </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="prelim"></a>
Preliminaries</h1>
<p>Adjust your command-line shell's environment so that the following variables exist and hold valid values:</p>
<ul>
<li>ACE_ROOT (default /opt/sidecar/deps/ACE_wrappers)</li>
<li>BOOST_ROOT (default /opt/sidecar/deps/boost)</li>
<li>PYTHON_ROOT (default /opt/sidecar)</li>
<li>QTDIR (default /opt/sidecar/deps/qt)</li>
<li>VSIPL_ROOT (default /opt/sidecar/deps/vsipl)</li>
</ul>
<p>There is an env-init.sh file in this directory that may be used by Bash shell users to properly set these values. To use, just add the following line to your $HOME/.profile file:</p>
<div class="fragment"><div class="line">. $HOME/sidecar/trunk/env-init.sh</div></div><!-- fragment --><p>This assumes that your <a class="el" href="namespaceSideCar.html" title="Namespace for all entities specific to the 331 SideCar project. ">SideCar</a> source code repository is in your home directory; if it is elsewhere, then adjust the above path accordingly. Make sure that the above environment variables are properly set before continuing.</p>
<h1><a class="anchor" id="External"></a>
Packages</h1>
<p>Currently the <a class="el" href="namespaceSideCar.html" title="Namespace for all entities specific to the 331 SideCar project. ">SideCar</a> system is using the Boost C++ templates and libraries, the ACE component of the ACE/TAO CORBA implementation, Trolltech's Qt graphics library, and Apples's Bonjour library (Zeroconf), all of which require user configuration prior to building. The external/config directory holds these configurations in a architecture- and host-specific manner. Each architecture name (returned by `uname') has a directory under external/config (eg. external/config/Linux) that contains configuration files that should apply to all machines of that architecture type. Within the architecture directory may be a host-specific directory with the name returned by `hostname' which contains configuration files used by that particular host.</p>
<h2><a class="anchor" id="install_ace"></a>
ACE</h2>
<p>Visit the <a href="http://www.cs.wustl.edu/~schmidt/ACE.html">ACE/TAO homepage</a> to obtain the source files to compile. Obtain at least version 5.5. Download and unzip the source into the parent directory of $ACE_ROOT (eg. /opt/sidecar); unzipping the source will create the ACE_wrappers directory. You need to create two files need in ACE_wrappers before compiling. Either create a new one or copy from external/config.</p>
<ul>
<li>Make sure that you set the ACE_ROOT variable before continuing. From your shell prompt, verify its value like so:</li>
</ul>
<div class="fragment"><div class="line">echo $ACE_ROOT</div></div><!-- fragment --><p>If you don't see what you expect (eg. <code>/opt/sidecar/ACE_wrappers</code>) then fix before moving on.to the next step.</p>
<ul>
<li>Move into the <code>ACE_wrappers</code> directory:</li>
</ul>
<div class="fragment"><div class="line">cd $ACE_ROOT</div></div><!-- fragment --><ul>
<li>Create an <code>ace/config.h</code> file that has two lines:</li>
</ul>
<div class="fragment"><div class="line"><span class="preprocessor">#define ACE_HAS_IPV6</span></div><div class="line"><span class="preprocessor">#include &quot;ace/config-XXX.h&quot;</span></div></div><!-- fragment --><p>where <code>XXX</code> indicates your platform (eg. <code>macosx-tiger</code> or <code>linux</code>).</p>
<ul>
<li>Create an <code>include/makeinclude/platform_macros.GNU</code> that has the following lines:</li>
</ul>
<div class="fragment"><div class="line">include $(ACE_ROOT)/include/makeinclude/platform_XXX.GNU</div><div class="line">debug=0</div><div class="line">optimize=1</div></div><!-- fragment --><p>where <code>XXX</code> again indicates your platform (eg. <code>macosx_tiger</code> or <code>linux</code>). You can change the values for <code>debug</code> and <code>optimize</code> if you want, but note that the ACE framework only produces one library; you cannot have both a debug and an optimized version of the ACE library available at the same time, only one or the other.</p>
<ul>
<li>Move into the <code>ace</code> directory, and type</li>
</ul>
<div class="fragment"><div class="line">make</div></div><!-- fragment --><p>to compile the ACE component of ACE/TAO. You are free to issue <code>make</code> from the <code>ACE_wrappers</code> directory instead, but the build time will be much longer, with no benefit for the <a class="el" href="namespaceSideCar.html" title="Namespace for all entities specific to the 331 SideCar project. ">SideCar</a> infrastructure.</p>
<p>If all goes well, you should end up with a libACE library in the <code>$ACE_ROOT/lib</code> directory. Additional information may be found in ACE-INSTALL.html.</p>
<h2><a class="anchor" id="install_boost"></a>
BOOST C++ Framework</h2>
<p>Download and unzip the Boost library. The Boost install will place files under <code>$BOOST_ROOT</code>, but the source may be installed anywhere. Change into the top-level boost source directory and type</p>
<div class="fragment"><div class="line">bjam --layout=system --prefix=/opt/sidecar/deps/boost_1_34_1</div></div><!-- fragment --><p>If you are on a multiprocessor system, add <code>-j4</code> or <code>-j8</code> before the <code>&ndash;layout</code> flag (<code>&ndash;layout</code> will compile the libraries without any versioning information attached. If all goes well, install the result with:</p>
<div class="fragment"><div class="line">bjam --layout=system --prefix=/opt/sidecar/deps/boost_1_34_1 install</div><div class="line">ln -s /opt/sidecar/deps/boost_1_34_1 /opt/sidecar/deps/boost</div></div><!-- fragment --><h2><a class="anchor" id="install_qt"></a>
QT Graphics Library</h2>
<p>Download and unzip the latest Qt package (4.2.3) found on the <a href="http://www.trolltech.com">Trolltech</a> site. Note that there are different versions for different operating systems; choose appropriately. Configure and build with the following commands:</p>
<div class="fragment"><div class="line">./configure -prefix /opt/sidecar/deps/qt-4.2.3 -no-qt3support -no-exceptions -no-glib</div><div class="line">make</div><div class="line">make install</div><div class="line">ln -s /opt/sidecar/deps/qt-4.2.3 /opt/sidecar/deps/qt</div></div><!-- fragment --><h2><a class="anchor" id="install_zeroconf"></a>
Bonjour (Zeroconf) Installation</h2>
<p>Apple provides a free library that lets non-Apple systems participate in the Bonjour/Zeroconfig standard for publishing and subscribing to DNS information. It allows the <a class="el" href="namespaceSideCar.html" title="Namespace for all entities specific to the 331 SideCar project. ">SideCar</a> applications to publish their connection information, and to obtain published information, removing the need to keep that information around in a global configuration file . Apple's Bonjour web site contains a download link that works for many Posix compliant systems.</p>
<p>To build, gunzip and untar the mDNSResponder download from that site. In unzipped directory, there are various subdirectiries that apply to certain operating systems. For Linux boxen, the appropriate one is mDNSPosix. Go there and type</p>
<div class="fragment"><div class="line">/etc/rc.d/init.d/mdns stop</div><div class="line">make os=linux</div></div><!-- fragment --><p>If the build is OK, then to install type (as root)</p>
<div class="fragment"><div class="line">make install os=linux</div><div class="line">cp ../mDNSShared/dns_sd.h /usr/include</div><div class="line">/etc/rc.d/init.d/mdns start</div></div><!-- fragment --><p>NOTE: on RedHat systems, monitor closely the results of the install, and reinstall if necessary.</p>
<p>To test, try using the dns-sd application. In one term window, type in</p>
<div class="fragment"><div class="line">dns-sd -R foobar _sidecar._tcp local 123123</div></div><!-- fragment --><p>and in another window type</p>
<div class="fragment"><div class="line">dns-sd -B _sidecar._tcp local</div></div><!-- fragment --><p>and you should see a line for <code>foobar</code> </p>
<h2><a class="anchor" id="install_vsipl"></a>
VSIPL++ Library</h2>
<p>Download the latest source version (1.3) from the <a href="http://www.codesourcery.com/vsiplplusplus">VSIPL++</a>page of Code Sourcery's web site. Be sure to pick the source version. Uncompress and untar the downloaded file. Unlike the other libraries, the VSIPL++ build/install is not the same for Linux and MacOS X, due mainly to the way VSIPL++ locates an appropriate LAPACK/CBLAS library.</p>
<h3><a class="anchor" id="install_vsipl_linux"></a>
Linux Install</h3>
<p>Configure VSIPL with the following command:</p>
<div class="fragment"><div class="line">./configure --prefix=/opt/vsipl/deps/vsipl-1.3 --disable-mpi</div></div><!-- fragment --><p>If running on a 64-bit architecture, start the above line with</p>
<div class="fragment"><div class="line">CPPFLAGS=-fPIC</div></div><!-- fragment --><p>so that the generated libraries may be repositioned in the larger memory space.</p>
<p>If all goes well, follow the configuration with a build and install using</p>
<div class="fragment"><div class="line">make</div><div class="line">sudo make install</div><div class="line">ln -s /opt/sidecar/deps/vsipl-1.3 /opt/sidecar/deps/vsipl</div></div><!-- fragment --><p>and you are done.</p>
<h3><a class="anchor" id="install_vsipl_macosx"></a>
Mac OS X (Tiger) Install</h3>
<p>For Mac OS X, use the following configure command in order to use Apple's optimized LAPACK and BLAS libraries:</p>
<div class="fragment"><div class="line">OPTLIB=/System/Library/Frameworks/Accelerate.framework/Frameworks/vecLib.framework/Versions/Current</div><div class="line">CPPFLAGS=-I${OPTLIB} LDFLAGS=-L${OPTLIB} ./configure        \</div><div class="line">--prefix=/opt/vsipl                         \</div><div class="line">--disable-mpi --disable-fft-<span class="keywordtype">long</span>-<span class="keywordtype">double</span> --enable-simd-loop-fusion   \</div><div class="line">--with-lapack=<span class="keyword">generic</span></div></div><!-- fragment --><p>If all goes well, follow the configuration with a build and install using</p>
<div class="fragment"><div class="line">make</div><div class="line">sudo make install</div></div><!-- fragment --><p>However, the resulting archive libraries from the install are unusable by the MacOS X linker (don't know why). To fix, you must run ranlib on them, like so:</p>
<div class="fragment"><div class="line"><span class="keywordflow">for</span> LIB in ${VSIPL_ROOT}/lib<span class="comment">/*.a; do ranlib -s ${LIB}; done</span></div></div><!-- fragment --><h3><a class="anchor" id="Installation"></a>
Patching</h3>
<p>The final stage of the installation requires patching some of the include files so that they are proper C++ files. The following will apply the patch found in the external directory:</p>
<div class="fragment"><div class="line">cd ${VSIPL_ROOT}</div><div class="line">sudo patch -p0 &lt; external/vsipl++-1.2.diff</div></div><!-- fragment --><p>Finally, make sure the <code>VSIPL_ROOT</code> environment variable is set to the <code>&ndash;prefix</code> configuration value above (/opt/vsipl) in your .profile or .cshrc file.</p>
<h2><a class="anchor" id="install_python"></a>
Python 2.5 Install</h2>
<p><a href="http://www.python.org.">Download</a> Python 2.5.</p>
<div class="fragment"><div class="line">./configure --prefix=/opt/sidecar</div><div class="line">make</div><div class="line">make install</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
