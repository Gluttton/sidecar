<!-- HTML header for doxygen 1.8.10-->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>SideCar: /Users/howes/src/sidecar/IO/MessageManager.cc Source File</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">SideCar
   &#160;<span id="projectnumber">1.0</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="pages.html"><span>Related&#160;Pages</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Data&#160;Structures</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>Globals</span></a></li>
    </ul>
  </div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="dir_16861240cd43450fd06793f5fadb1278.html">sidecar</a></li><li class="navelem"><a class="el" href="dir_8d167d08c82e789c44b9f4b41a897732.html">IO</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">MessageManager.cc</div>  </div>
</div><!--header-->
<div class="contents">
<div class="fragment"><div class="line"><a name="l00001"></a><span class="lineno">    1</span>&#160;<span class="preprocessor">#include &lt;cassert&gt;</span></div><div class="line"><a name="l00002"></a><span class="lineno">    2</span>&#160;</div><div class="line"><a name="l00003"></a><span class="lineno">    3</span>&#160;<span class="preprocessor">#include &quot;ace/CDR_Stream.h&quot;</span></div><div class="line"><a name="l00004"></a><span class="lineno">    4</span>&#160;<span class="preprocessor">#include &quot;ace/Guard_T.h&quot;</span></div><div class="line"><a name="l00005"></a><span class="lineno">    5</span>&#160;<span class="preprocessor">#include &quot;ace/Lock_Adapter_T.h&quot;</span></div><div class="line"><a name="l00006"></a><span class="lineno">    6</span>&#160;<span class="preprocessor">#include &quot;ace/Malloc_Allocator.h&quot;</span> <span class="comment">// for ACE_New_Allocator</span></div><div class="line"><a name="l00007"></a><span class="lineno">    7</span>&#160;<span class="preprocessor">#include &quot;ace/Mutex.h&quot;</span></div><div class="line"><a name="l00008"></a><span class="lineno">    8</span>&#160;<span class="preprocessor">#include &quot;ace/Singleton.h&quot;</span>  <span class="comment">// for ACE_Singleton</span></div><div class="line"><a name="l00009"></a><span class="lineno">    9</span>&#160;</div><div class="line"><a name="l00010"></a><span class="lineno">   10</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Log_8h.html">Logger/Log.h</a>&quot;</span></div><div class="line"><a name="l00011"></a><span class="lineno">   11</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Pool_8h.html">Utils/Pool.h</a>&quot;</span></div><div class="line"><a name="l00012"></a><span class="lineno">   12</span>&#160;</div><div class="line"><a name="l00013"></a><span class="lineno">   13</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="MessageManager_8h.html">MessageManager.h</a>&quot;</span></div><div class="line"><a name="l00014"></a><span class="lineno">   14</span>&#160;<span class="preprocessor">#include &quot;<a class="code" href="Preamble_8h.html">Preamble.h</a>&quot;</span></div><div class="line"><a name="l00015"></a><span class="lineno">   15</span>&#160;</div><div class="line"><a name="l00016"></a><span class="lineno">   16</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceSideCar.html">SideCar</a>;</div><div class="line"><a name="l00017"></a><span class="lineno">   17</span>&#160;<span class="keyword">using namespace </span><a class="code" href="namespaceSideCar_1_1IO.html">SideCar::IO</a>;</div><div class="line"><a name="l00018"></a><span class="lineno">   18</span>&#160;</div><div class="line"><a name="l00024"></a><span class="lineno"><a class="line" href="classPoolAllocator.html">   24</a></span>&#160;<span class="keyword">class </span><a class="code" href="classPoolAllocator.html">PoolAllocator</a> : <span class="keyword">public</span> ACE_New_Allocator</div><div class="line"><a name="l00025"></a><span class="lineno">   25</span>&#160;{</div><div class="line"><a name="l00026"></a><span class="lineno">   26</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00027"></a><span class="lineno">   27</span>&#160;</div><div class="line"><a name="l00032"></a><span class="lineno">   32</span>&#160;    <span class="keyword">static</span> <a class="code" href="classLogger_1_1Log.html">Logger::Log</a>&amp; Log();</div><div class="line"><a name="l00033"></a><span class="lineno">   33</span>&#160;</div><div class="line"><a name="l00040"></a><span class="lineno">   40</span>&#160;    <a class="code" href="classPoolAllocator.html">PoolAllocator</a>(<span class="keywordtype">size_t</span> objectSize, <span class="keyword">const</span> <span class="keywordtype">char</span>* name);</div><div class="line"><a name="l00041"></a><span class="lineno">   41</span>&#160;</div><div class="line"><a name="l00044"></a><span class="lineno">   44</span>&#160;    ~<a class="code" href="classPoolAllocator.html">PoolAllocator</a>();</div><div class="line"><a name="l00045"></a><span class="lineno">   45</span>&#160;</div><div class="line"><a name="l00050"></a><span class="lineno"><a class="line" href="classPoolAllocator.html#a949d4fbe210b30bb482713c87bc11211">   50</a></span>&#160;    <a class="code" href="structUtils_1_1Pool_1_1AllocationStats.html">Utils::Pool::AllocationStats</a> <a class="code" href="classPoolAllocator.html#a949d4fbe210b30bb482713c87bc11211">getAllocationStats</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00051"></a><span class="lineno">   51</span>&#160;<span class="keyword">    </span>{ <span class="keywordflow">return</span> pool_.getAllocationStats(); }</div><div class="line"><a name="l00052"></a><span class="lineno">   52</span>&#160;</div><div class="line"><a name="l00061"></a><span class="lineno">   61</span>&#160;    <span class="keywordtype">void</span>* malloc(<span class="keywordtype">size_t</span> size);</div><div class="line"><a name="l00062"></a><span class="lineno">   62</span>&#160;</div><div class="line"><a name="l00074"></a><span class="lineno">   74</span>&#160;    <span class="keywordtype">void</span>* calloc(<span class="keywordtype">size_t</span> size, <span class="keywordtype">char</span> init = <span class="charliteral">&#39;\0&#39;</span>);</div><div class="line"><a name="l00075"></a><span class="lineno">   75</span>&#160;</div><div class="line"><a name="l00076"></a><span class="lineno">   76</span>&#160;    <span class="keywordtype">void</span>* calloc(<span class="keywordtype">size_t</span> count, <span class="keywordtype">size_t</span> elemSize, <span class="keywordtype">char</span> init = <span class="charliteral">&#39;\0&#39;</span>)</div><div class="line"><a name="l00077"></a><span class="lineno">   77</span>&#160;    { <span class="keywordflow">return</span> calloc(count * elemSize, init); }</div><div class="line"><a name="l00078"></a><span class="lineno">   78</span>&#160;</div><div class="line"><a name="l00085"></a><span class="lineno">   85</span>&#160;    <span class="keywordtype">void</span> free(<span class="keywordtype">void</span>* ptr);</div><div class="line"><a name="l00086"></a><span class="lineno">   86</span>&#160;</div><div class="line"><a name="l00087"></a><span class="lineno">   87</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00088"></a><span class="lineno">   88</span>&#160;    <a class="code" href="classUtils_1_1Pool.html">Utils::Pool</a> pool_;      </div><div class="line"><a name="l00089"></a><span class="lineno">   89</span>&#160;    ACE_Thread_Mutex mutex_;    </div><div class="line"><a name="l00090"></a><span class="lineno">   90</span>&#160;    <span class="keywordtype">size_t</span> objectSize_;     </div><div class="line"><a name="l00091"></a><span class="lineno">   91</span>&#160;    std::string name_;      </div><div class="line"><a name="l00092"></a><span class="lineno">   92</span>&#160;};</div><div class="line"><a name="l00093"></a><span class="lineno">   93</span>&#160;</div><div class="line"><a name="l00094"></a><span class="lineno">   94</span>&#160;<a class="code" href="classLogger_1_1Log.html">Logger::Log</a>&amp;</div><div class="line"><a name="l00095"></a><span class="lineno"><a class="line" href="classPoolAllocator.html#abee94d9b1a0dfaae8cf4782e4d88f7f1">   95</a></span>&#160;<a class="code" href="classPoolAllocator.html#abee94d9b1a0dfaae8cf4782e4d88f7f1">PoolAllocator::Log</a>()</div><div class="line"><a name="l00096"></a><span class="lineno">   96</span>&#160;{</div><div class="line"><a name="l00097"></a><span class="lineno">   97</span>&#160;    <span class="keyword">static</span> <a class="code" href="classLogger_1_1Log.html">Logger::Log</a>&amp; log_ =</div><div class="line"><a name="l00098"></a><span class="lineno">   98</span>&#160;    <a class="code" href="classLogger_1_1Log.html#a091feecfafbb5c02875d08e1c4b27a2a">Logger::Log::Find</a>(<span class="stringliteral">&quot;SideCar.IO.MessageManager.PoolAllocator&quot;</span>);</div><div class="line"><a name="l00099"></a><span class="lineno">   99</span>&#160;    <span class="keywordflow">return</span> log_;</div><div class="line"><a name="l00100"></a><span class="lineno">  100</span>&#160;}</div><div class="line"><a name="l00101"></a><span class="lineno">  101</span>&#160;</div><div class="line"><a name="l00102"></a><span class="lineno"><a class="line" href="classPoolAllocator.html#adbe6f1bef3da8232bdbb9d75098e3503">  102</a></span>&#160;<a class="code" href="classPoolAllocator.html#adbe6f1bef3da8232bdbb9d75098e3503">PoolAllocator::PoolAllocator</a>(<span class="keywordtype">size_t</span> objectSize, <span class="keyword">const</span> <span class="keywordtype">char</span>* name)</div><div class="line"><a name="l00103"></a><span class="lineno">  103</span>&#160;    : ACE_New_Allocator(), pool_(objectSize, 1024), mutex_(),</div><div class="line"><a name="l00104"></a><span class="lineno">  104</span>&#160;      objectSize_(objectSize), name_(name)</div><div class="line"><a name="l00105"></a><span class="lineno">  105</span>&#160;{</div><div class="line"><a name="l00106"></a><span class="lineno">  106</span>&#160;    <a class="code" href="classLogger_1_1ProcLog.html">Logger::ProcLog</a> log(<span class="stringliteral">&quot;PoolAllocator&quot;</span>, <a class="code" href="classPoolAllocator.html#abee94d9b1a0dfaae8cf4782e4d88f7f1">Log</a>());</div><div class="line"><a name="l00107"></a><span class="lineno">  107</span>&#160;    <a class="code" href="Log_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a> &lt;&lt; objectSize &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; name &lt;&lt; std::endl;</div><div class="line"><a name="l00108"></a><span class="lineno">  108</span>&#160;}</div><div class="line"><a name="l00109"></a><span class="lineno">  109</span>&#160;</div><div class="line"><a name="l00110"></a><span class="lineno"><a class="line" href="classPoolAllocator.html#ac4ac1fe039f85056fa928b7c74970ab1">  110</a></span>&#160;<a class="code" href="classPoolAllocator.html#ac4ac1fe039f85056fa928b7c74970ab1">PoolAllocator::~PoolAllocator</a>()</div><div class="line"><a name="l00111"></a><span class="lineno">  111</span>&#160;{</div><div class="line"><a name="l00112"></a><span class="lineno">  112</span>&#160;    <a class="code" href="classLogger_1_1ProcLog.html">Logger::ProcLog</a> log(<span class="stringliteral">&quot;~PoolAllocator&quot;</span>, <a class="code" href="classPoolAllocator.html#abee94d9b1a0dfaae8cf4782e4d88f7f1">Log</a>());</div><div class="line"><a name="l00113"></a><span class="lineno">  113</span>&#160;    <a class="code" href="Log_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a> &lt;&lt; name_ &lt;&lt; std::endl;</div><div class="line"><a name="l00114"></a><span class="lineno">  114</span>&#160;}</div><div class="line"><a name="l00115"></a><span class="lineno">  115</span>&#160;</div><div class="line"><a name="l00116"></a><span class="lineno">  116</span>&#160;<span class="keywordtype">void</span>*</div><div class="line"><a name="l00117"></a><span class="lineno"><a class="line" href="classPoolAllocator.html#a3db516dc6d6d798b89a7500aec3a2189">  117</a></span>&#160;<a class="code" href="classPoolAllocator.html#a3db516dc6d6d798b89a7500aec3a2189">PoolAllocator::malloc</a>(<span class="keywordtype">size_t</span> size)</div><div class="line"><a name="l00118"></a><span class="lineno">  118</span>&#160;{</div><div class="line"><a name="l00119"></a><span class="lineno">  119</span>&#160;    ACE_Guard&lt;ACE_Thread_Mutex&gt; guard(mutex_);</div><div class="line"><a name="l00120"></a><span class="lineno">  120</span>&#160;    <span class="keywordflow">return</span> pool_.<a class="code" href="classUtils_1_1Pool.html#a1e594b4859cd07e1cf886dedad21dffc">allocate</a>(size);</div><div class="line"><a name="l00121"></a><span class="lineno">  121</span>&#160;}</div><div class="line"><a name="l00122"></a><span class="lineno">  122</span>&#160;</div><div class="line"><a name="l00123"></a><span class="lineno">  123</span>&#160;<span class="keywordtype">void</span>*</div><div class="line"><a name="l00124"></a><span class="lineno"><a class="line" href="classPoolAllocator.html#a26c43e122c01fcab3e75b3c68549bedd">  124</a></span>&#160;<a class="code" href="classPoolAllocator.html#a26c43e122c01fcab3e75b3c68549bedd">PoolAllocator::calloc</a>(<span class="keywordtype">size_t</span> size, <span class="keywordtype">char</span> init)</div><div class="line"><a name="l00125"></a><span class="lineno">  125</span>&#160;{</div><div class="line"><a name="l00126"></a><span class="lineno">  126</span>&#160;    <span class="keywordtype">void</span>* ptr = this-&gt;<a class="code" href="classPoolAllocator.html#a3db516dc6d6d798b89a7500aec3a2189">malloc</a>(size);</div><div class="line"><a name="l00127"></a><span class="lineno">  127</span>&#160;    <span class="keywordflow">if</span> (ptr) ACE_OS::memset(ptr, init, size);</div><div class="line"><a name="l00128"></a><span class="lineno">  128</span>&#160;    <span class="keywordflow">return</span> ptr;</div><div class="line"><a name="l00129"></a><span class="lineno">  129</span>&#160;}</div><div class="line"><a name="l00130"></a><span class="lineno">  130</span>&#160;</div><div class="line"><a name="l00131"></a><span class="lineno">  131</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00132"></a><span class="lineno"><a class="line" href="classPoolAllocator.html#a461014f2bd6651d35f3432a4fbfb5704">  132</a></span>&#160;<a class="code" href="classPoolAllocator.html#a461014f2bd6651d35f3432a4fbfb5704">PoolAllocator::free</a>(<span class="keywordtype">void</span>* obj)</div><div class="line"><a name="l00133"></a><span class="lineno">  133</span>&#160;{</div><div class="line"><a name="l00134"></a><span class="lineno">  134</span>&#160;    ACE_Guard&lt;ACE_Thread_Mutex&gt; guard(mutex_);</div><div class="line"><a name="l00135"></a><span class="lineno">  135</span>&#160;    pool_.<a class="code" href="classUtils_1_1Pool.html#a911ad8ba3a56b364c05c8602ce387b75">release</a>(obj, objectSize_);</div><div class="line"><a name="l00136"></a><span class="lineno">  136</span>&#160;}</div><div class="line"><a name="l00137"></a><span class="lineno">  137</span>&#160;</div><div class="line"><a name="l00142"></a><span class="lineno"><a class="line" href="classMessageBlockAllocatorImpl.html">  142</a></span>&#160;<span class="keyword">class </span><a class="code" href="classMessageBlockAllocatorImpl.html">MessageBlockAllocatorImpl</a> : <span class="keyword">public</span> <a class="code" href="classPoolAllocator.html">PoolAllocator</a></div><div class="line"><a name="l00143"></a><span class="lineno">  143</span>&#160;{</div><div class="line"><a name="l00146"></a><span class="lineno">  146</span>&#160;    <a class="code" href="classMessageBlockAllocatorImpl.html">MessageBlockAllocatorImpl</a>()</div><div class="line"><a name="l00147"></a><span class="lineno">  147</span>&#160;    : <a class="code" href="classPoolAllocator.html#adbe6f1bef3da8232bdbb9d75098e3503">PoolAllocator</a>(<span class="keyword">sizeof</span>(ACE_Message_Block), <span class="stringliteral">&quot;MessageBlock&quot;</span>)</div><div class="line"><a name="l00148"></a><span class="lineno">  148</span>&#160;    {}</div><div class="line"><a name="l00149"></a><span class="lineno">  149</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span>ACE_Singleton&lt;MessageBlockAllocatorImpl,</div><div class="line"><a name="l00150"></a><span class="lineno">  150</span>&#160;                   ACE_Recursive_Thread_Mutex&gt;;</div><div class="line"><a name="l00151"></a><span class="lineno">  151</span>&#160;};</div><div class="line"><a name="l00152"></a><span class="lineno">  152</span>&#160;</div><div class="line"><a name="l00156"></a><span class="lineno">  156</span>&#160;<span class="keyword">using</span> MessageBlockAllocator = ACE_Singleton&lt;MessageBlockAllocatorImpl,ACE_Recursive_Thread_Mutex&gt;;</div><div class="line"><a name="l00157"></a><span class="lineno">  157</span>&#160;</div><div class="line"><a name="l00161"></a><span class="lineno"><a class="line" href="classDataBlockAllocatorImpl.html">  161</a></span>&#160;<span class="keyword">class </span><a class="code" href="classDataBlockAllocatorImpl.html">DataBlockAllocatorImpl</a> : <span class="keyword">public</span> <a class="code" href="classPoolAllocator.html">PoolAllocator</a></div><div class="line"><a name="l00162"></a><span class="lineno">  162</span>&#160;{</div><div class="line"><a name="l00165"></a><span class="lineno">  165</span>&#160;    <a class="code" href="classDataBlockAllocatorImpl.html">DataBlockAllocatorImpl</a>() : <a class="code" href="classPoolAllocator.html#adbe6f1bef3da8232bdbb9d75098e3503">PoolAllocator</a>(<span class="keyword">sizeof</span>(ACE_Data_Block), <span class="stringliteral">&quot;DataBlock&quot;</span>) {}</div><div class="line"><a name="l00166"></a><span class="lineno">  166</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span>ACE_Singleton&lt;DataBlockAllocatorImpl, ACE_Recursive_Thread_Mutex&gt;;</div><div class="line"><a name="l00167"></a><span class="lineno">  167</span>&#160;};</div><div class="line"><a name="l00168"></a><span class="lineno">  168</span>&#160;</div><div class="line"><a name="l00172"></a><span class="lineno">  172</span>&#160;<span class="keyword">using</span> DataBlockAllocator = ACE_Singleton&lt;DataBlockAllocatorImpl,ACE_Recursive_Thread_Mutex&gt;;</div><div class="line"><a name="l00173"></a><span class="lineno">  173</span>&#160;</div><div class="line"><a name="l00177"></a><span class="lineno"><a class="line" href="classMetaDataAllocatorImpl.html">  177</a></span>&#160;<span class="keyword">class </span><a class="code" href="classMetaDataAllocatorImpl.html">MetaDataAllocatorImpl</a> : <span class="keyword">public</span> <a class="code" href="classPoolAllocator.html">PoolAllocator</a></div><div class="line"><a name="l00178"></a><span class="lineno">  178</span>&#160;{</div><div class="line"><a name="l00179"></a><span class="lineno">  179</span>&#160;<span class="keyword">public</span>:</div><div class="line"><a name="l00180"></a><span class="lineno">  180</span>&#160;</div><div class="line"><a name="l00186"></a><span class="lineno">  186</span>&#160;    <span class="keywordtype">void</span> <a class="code" href="classPoolAllocator.html#a461014f2bd6651d35f3432a4fbfb5704">free</a>(<span class="keywordtype">void</span>* obj);</div><div class="line"><a name="l00187"></a><span class="lineno">  187</span>&#160;</div><div class="line"><a name="l00188"></a><span class="lineno">  188</span>&#160;<span class="keyword">private</span>:</div><div class="line"><a name="l00189"></a><span class="lineno">  189</span>&#160;    </div><div class="line"><a name="l00192"></a><span class="lineno">  192</span>&#160;    <a class="code" href="classMetaDataAllocatorImpl.html">MetaDataAllocatorImpl</a>() : <a class="code" href="classPoolAllocator.html#adbe6f1bef3da8232bdbb9d75098e3503">PoolAllocator</a>(<span class="keyword">sizeof</span>(<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html">MessageManager::MetaData</a>), <span class="stringliteral">&quot;MetaData&quot;</span>) {}</div><div class="line"><a name="l00193"></a><span class="lineno">  193</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span>ACE_Singleton&lt;MetaDataAllocatorImpl, ACE_Recursive_Thread_Mutex&gt;;</div><div class="line"><a name="l00194"></a><span class="lineno">  194</span>&#160;};</div><div class="line"><a name="l00195"></a><span class="lineno">  195</span>&#160;</div><div class="line"><a name="l00199"></a><span class="lineno">  199</span>&#160;<span class="keyword">using</span> MetaDataAllocator = ACE_Singleton&lt;MetaDataAllocatorImpl,ACE_Recursive_Thread_Mutex&gt;;</div><div class="line"><a name="l00200"></a><span class="lineno">  200</span>&#160;</div><div class="line"><a name="l00201"></a><span class="lineno">  201</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00202"></a><span class="lineno"><a class="line" href="classMetaDataAllocatorImpl.html#aebd5609270b8d53d5c5a43f55fa8bf9e">  202</a></span>&#160;<a class="code" href="classMetaDataAllocatorImpl.html#aebd5609270b8d53d5c5a43f55fa8bf9e">MetaDataAllocatorImpl::free</a>(<span class="keywordtype">void</span>* obj)</div><div class="line"><a name="l00203"></a><span class="lineno">  203</span>&#160;{</div><div class="line"><a name="l00204"></a><span class="lineno">  204</span>&#160;    <span class="keyword">static</span> <a class="code" href="classLogger_1_1ProcLog.html">Logger::ProcLog</a> log(<span class="stringliteral">&quot;MetaDataAllocator::free&quot;</span>, MessageManager::Log());</div><div class="line"><a name="l00205"></a><span class="lineno">  205</span>&#160;    <a class="code" href="Log_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a> &lt;&lt; obj &lt;&lt; std::endl;</div><div class="line"><a name="l00206"></a><span class="lineno">  206</span>&#160;</div><div class="line"><a name="l00207"></a><span class="lineno">  207</span>&#160;    <span class="comment">// Invoke the MetaData destructor so that the boost::shared_ptr is properly destructed.</span></div><div class="line"><a name="l00208"></a><span class="lineno">  208</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00209"></a><span class="lineno">  209</span>&#160;    <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html">MessageManager::MetaData</a>*<span class="keyword">&gt;</span>(obj)-&gt;~MetaData();</div><div class="line"><a name="l00210"></a><span class="lineno">  210</span>&#160;    <a class="code" href="classPoolAllocator.html#a461014f2bd6651d35f3432a4fbfb5704">PoolAllocator::free</a>(obj);</div><div class="line"><a name="l00211"></a><span class="lineno">  211</span>&#160;}</div><div class="line"><a name="l00212"></a><span class="lineno">  212</span>&#160;</div><div class="line"><a name="l00217"></a><span class="lineno"><a class="line" href="classMessageBlockLockingStrategyImpl.html">  217</a></span>&#160;<span class="keyword">class </span><a class="code" href="classMessageBlockLockingStrategyImpl.html">MessageBlockLockingStrategyImpl</a> : <span class="keyword">public</span> ACE_Lock_Adapter&lt;ACE_Mutex&gt;</div><div class="line"><a name="l00218"></a><span class="lineno">  218</span>&#160;{</div><div class="line"><a name="l00221"></a><span class="lineno">  221</span>&#160;    <a class="code" href="classMessageBlockLockingStrategyImpl.html">MessageBlockLockingStrategyImpl</a>() : ACE_Lock_Adapter&lt;ACE_Mutex&gt;() {}</div><div class="line"><a name="l00222"></a><span class="lineno">  222</span>&#160;    <span class="keyword">friend</span> <span class="keyword">class </span>ACE_Singleton&lt;MessageBlockLockingStrategyImpl, ACE_Recursive_Thread_Mutex&gt;;</div><div class="line"><a name="l00223"></a><span class="lineno">  223</span>&#160;};</div><div class="line"><a name="l00224"></a><span class="lineno">  224</span>&#160;</div><div class="line"><a name="l00228"></a><span class="lineno">  228</span>&#160;<span class="keyword">using</span> MessageBlockLockingStrategy = ACE_Singleton&lt;MessageBlockLockingStrategyImpl, ACE_Recursive_Thread_Mutex&gt;;</div><div class="line"><a name="l00229"></a><span class="lineno">  229</span>&#160;</div><div class="line"><a name="l00230"></a><span class="lineno">  230</span>&#160;<a class="code" href="classLogger_1_1Log.html">Logger::Log</a>&amp;</div><div class="line"><a name="l00231"></a><span class="lineno"><a class="line" href="classSideCar_1_1IO_1_1MessageManager.html#a84007c75520f72fb2be54e75d67c3456">  231</a></span>&#160;MessageManager::Log()</div><div class="line"><a name="l00232"></a><span class="lineno">  232</span>&#160;{</div><div class="line"><a name="l00233"></a><span class="lineno">  233</span>&#160;    <span class="keyword">static</span> <a class="code" href="classLogger_1_1Log.html">Logger::Log</a>&amp; log_ = <a class="code" href="classLogger_1_1Log.html#a091feecfafbb5c02875d08e1c4b27a2a">Logger::Log::Find</a>(<span class="stringliteral">&quot;SideCar.IO.MessageManager&quot;</span>);</div><div class="line"><a name="l00234"></a><span class="lineno">  234</span>&#160;    <span class="keywordflow">return</span> log_;</div><div class="line"><a name="l00235"></a><span class="lineno">  235</span>&#160;}</div><div class="line"><a name="l00236"></a><span class="lineno">  236</span>&#160;</div><div class="line"><a name="l00237"></a><span class="lineno">  237</span>&#160;ACE_Message_Block*</div><div class="line"><a name="l00238"></a><span class="lineno"><a class="line" href="classSideCar_1_1IO_1_1MessageManager.html#acfb696ee5f7756bc5ee4fff1a92a07f2">  238</a></span>&#160;MessageManager::MakeMessageBlock(<span class="keywordtype">size_t</span> size, <span class="keywordtype">int</span> type)</div><div class="line"><a name="l00239"></a><span class="lineno">  239</span>&#160;{</div><div class="line"><a name="l00240"></a><span class="lineno">  240</span>&#160;    <span class="keywordflow">return</span> <span class="keyword">new</span>(MessageBlockAllocator::instance()-&gt;malloc(<span class="keyword">sizeof</span>(ACE_Message_Block)))</div><div class="line"><a name="l00241"></a><span class="lineno">  241</span>&#160;    ACE_Message_Block(size,</div><div class="line"><a name="l00242"></a><span class="lineno">  242</span>&#160;                          type,</div><div class="line"><a name="l00243"></a><span class="lineno">  243</span>&#160;                          0,    <span class="comment">// continuation</span></div><div class="line"><a name="l00244"></a><span class="lineno">  244</span>&#160;                          0,    <span class="comment">// raw data pointer</span></div><div class="line"><a name="l00245"></a><span class="lineno">  245</span>&#160;                          0,    <span class="comment">// allocator strategy</span></div><div class="line"><a name="l00246"></a><span class="lineno">  246</span>&#160;                          MessageBlockLockingStrategy::instance(),</div><div class="line"><a name="l00247"></a><span class="lineno">  247</span>&#160;                          ACE_DEFAULT_MESSAGE_BLOCK_PRIORITY,</div><div class="line"><a name="l00248"></a><span class="lineno">  248</span>&#160;                          ACE_Time_Value::zero,</div><div class="line"><a name="l00249"></a><span class="lineno">  249</span>&#160;                          ACE_Time_Value::max_time,</div><div class="line"><a name="l00250"></a><span class="lineno">  250</span>&#160;                          DataBlockAllocator::instance(),</div><div class="line"><a name="l00251"></a><span class="lineno">  251</span>&#160;                          MessageBlockAllocator::instance());</div><div class="line"><a name="l00252"></a><span class="lineno">  252</span>&#160;}</div><div class="line"><a name="l00253"></a><span class="lineno">  253</span>&#160;</div><div class="line"><a name="l00254"></a><span class="lineno">  254</span>&#160;ACE_Message_Block*</div><div class="line"><a name="l00255"></a><span class="lineno"><a class="line" href="classSideCar_1_1IO_1_1MessageManager.html#a919e1fc160b385ae6eeabb57efd164bf">  255</a></span>&#160;MessageManager::MakeControlMessage(<a class="code" href="classSideCar_1_1IO_1_1ControlMessage.html#aa5a4ec88cf8c7122aca537a7dd4f74e1">ControlMessage::Type</a> type, <span class="keywordtype">size_t</span> size)</div><div class="line"><a name="l00256"></a><span class="lineno">  256</span>&#160;{</div><div class="line"><a name="l00257"></a><span class="lineno">  257</span>&#160;    <a class="code" href="classLogger_1_1ProcLog.html">Logger::ProcLog</a> log(<span class="stringliteral">&quot;MakeControlMessage&quot;</span>, <a class="code" href="classPoolAllocator.html#abee94d9b1a0dfaae8cf4782e4d88f7f1">Log</a>());</div><div class="line"><a name="l00258"></a><span class="lineno">  258</span>&#160;    <a class="code" href="Log_8h.html#aa5225a678cd87ae1a247d0563073474e">LOGINFO</a> &lt;&lt; type &lt;&lt; <span class="charliteral">&#39; &#39;</span> &lt;&lt; size &lt;&lt; std::endl;</div><div class="line"><a name="l00259"></a><span class="lineno">  259</span>&#160;    <span class="keywordflow">return</span> MakeMessageBlock(size, kControl + <span class="keywordtype">int</span>(type));</div><div class="line"><a name="l00260"></a><span class="lineno">  260</span>&#160;}</div><div class="line"><a name="l00261"></a><span class="lineno">  261</span>&#160;</div><div class="line"><a name="l00262"></a><span class="lineno">  262</span>&#160;</div><div class="line"><a name="l00263"></a><span class="lineno"><a class="line" href="classSideCar_1_1IO_1_1MessageManager.html#aa0eb92ca48341e7e8fe8b387cd27c8cb">  263</a></span>&#160;MessageManager::MessageManager(<span class="keyword">const</span> Messages::Header::Ref&amp; native)</div><div class="line"><a name="l00264"></a><span class="lineno">  264</span>&#160;    : data_(0), metaData_(0)</div><div class="line"><a name="l00265"></a><span class="lineno">  265</span>&#160;{</div><div class="line"><a name="l00266"></a><span class="lineno">  266</span>&#160;    <span class="keyword">static</span> <a class="code" href="classLogger_1_1ProcLog.html">Logger::ProcLog</a> log(<span class="stringliteral">&quot;MessageManager(native)&quot;</span>, <a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#a84007c75520f72fb2be54e75d67c3456">Log</a>());</div><div class="line"><a name="l00267"></a><span class="lineno">  267</span>&#160;    <a class="code" href="Log_8h.html#aa5225a678cd87ae1a247d0563073474e">LOGINFO</a> &lt;&lt; <span class="keyword">this</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00268"></a><span class="lineno">  268</span>&#160;    makeMetaData(0);</div><div class="line"><a name="l00269"></a><span class="lineno">  269</span>&#160;    metaData_-&gt;<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html#a21b32184b95370ad80821a974e032797">size</a> = native-&gt;getSize();</div><div class="line"><a name="l00270"></a><span class="lineno">  270</span>&#160;    metaData_-&gt;<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html#ae4a2757688f5a2e04f6103845b3025cc">native</a> = native;</div><div class="line"><a name="l00271"></a><span class="lineno">  271</span>&#160;}</div><div class="line"><a name="l00272"></a><span class="lineno">  272</span>&#160;</div><div class="line"><a name="l00273"></a><span class="lineno"><a class="line" href="classSideCar_1_1IO_1_1MessageManager.html#a4cd55d2fae3779f307a5f1c5f617e958">  273</a></span>&#160;<a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#a4cd55d2fae3779f307a5f1c5f617e958">MessageManager::MessageManager</a>(ACE_Message_Block* data, <span class="keyword">const</span> <a class="code" href="classSideCar_1_1Messages_1_1MetaTypeInfo.html">Messages::MetaTypeInfo</a>* metaTypeInfo)</div><div class="line"><a name="l00274"></a><span class="lineno">  274</span>&#160;    : data_(0), metaData_(0)</div><div class="line"><a name="l00275"></a><span class="lineno">  275</span>&#160;{</div><div class="line"><a name="l00276"></a><span class="lineno">  276</span>&#160;    <span class="keyword">static</span> <a class="code" href="classLogger_1_1ProcLog.html">Logger::ProcLog</a> log(<span class="stringliteral">&quot;MessageManager(data, metaTypeInfo)&quot;</span>, <a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#a84007c75520f72fb2be54e75d67c3456">Log</a>());</div><div class="line"><a name="l00277"></a><span class="lineno">  277</span>&#160;    <a class="code" href="Log_8h.html#a9786e5165d937dbbd83fc774548339a6">LOGTIN</a> &lt;&lt; <span class="stringliteral">&quot;msgType: &quot;</span> &lt;&lt; data-&gt;msg_type()  &lt;&lt; <span class="stringliteral">&quot; metaTypeInfo: &quot;</span> &lt;&lt; metaTypeInfo &lt;&lt; std::endl;</div><div class="line"><a name="l00278"></a><span class="lineno">  278</span>&#160;</div><div class="line"><a name="l00279"></a><span class="lineno">  279</span>&#160;    <span class="keywordflow">switch</span> (data-&gt;msg_type()) {</div><div class="line"><a name="l00280"></a><span class="lineno">  280</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#a46b6b1e2abba89dd052f3d0de92279b8a5cb3cff5f622502c34caeec6f535aada">kRawData</a>:</div><div class="line"><a name="l00281"></a><span class="lineno">  281</span>&#160;    <a class="code" href="Log_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;kRawData&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00282"></a><span class="lineno">  282</span>&#160;</div><div class="line"><a name="l00283"></a><span class="lineno">  283</span>&#160;    <span class="comment">// Raw encoded data.</span></div><div class="line"><a name="l00284"></a><span class="lineno">  284</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00285"></a><span class="lineno">  285</span>&#160;    <span class="keywordflow">if</span> (! metaTypeInfo) {</div><div class="line"><a name="l00286"></a><span class="lineno">  286</span>&#160;</div><div class="line"><a name="l00287"></a><span class="lineno">  287</span>&#160;        <a class="code" href="Log_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;no metaTypeInfo&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00288"></a><span class="lineno">  288</span>&#160;</div><div class="line"><a name="l00289"></a><span class="lineno">  289</span>&#160;        <span class="comment">// Attempt to get the MetaTypeInfo using the indicator embedded in the binary message.</span></div><div class="line"><a name="l00290"></a><span class="lineno">  290</span>&#160;            <span class="comment">//</span></div><div class="line"><a name="l00291"></a><span class="lineno">  291</span>&#160;        <a class="code" href="classSideCar_1_1IO_1_1Decoder.html">Decoder</a> decoder(data-&gt;duplicate());</div><div class="line"><a name="l00292"></a><span class="lineno">  292</span>&#160;        <span class="keywordflow">if</span> (decoder.isValid()) {</div><div class="line"><a name="l00293"></a><span class="lineno">  293</span>&#160;        metaTypeInfo = Messages::Header::GetMessageMetaTypeInfo(decoder);</div><div class="line"><a name="l00294"></a><span class="lineno">  294</span>&#160;        }</div><div class="line"><a name="l00295"></a><span class="lineno">  295</span>&#160;    }</div><div class="line"><a name="l00296"></a><span class="lineno">  296</span>&#160;</div><div class="line"><a name="l00297"></a><span class="lineno">  297</span>&#160;    <span class="keywordflow">if</span> (! metaTypeInfo) {</div><div class="line"><a name="l00298"></a><span class="lineno">  298</span>&#160;        <a class="code" href="classUtils_1_1Exception.html">Utils::Exception</a> ex(<span class="stringliteral">&quot;raw data has no meta type&quot;</span>);</div><div class="line"><a name="l00299"></a><span class="lineno">  299</span>&#160;        log.<a class="code" href="classLogger_1_1ProcLog.html#a8dcfe4bab6e76a12720a546fbe5f932e">thrower</a>(ex);</div><div class="line"><a name="l00300"></a><span class="lineno">  300</span>&#160;    }</div><div class="line"><a name="l00301"></a><span class="lineno">  301</span>&#160;    <span class="keywordflow">else</span> {</div><div class="line"><a name="l00302"></a><span class="lineno">  302</span>&#160;        makeMetaData(data);</div><div class="line"><a name="l00303"></a><span class="lineno">  303</span>&#160;        <a class="code" href="classSideCar_1_1IO_1_1Decoder.html">Decoder</a> decoder(data-&gt;duplicate());</div><div class="line"><a name="l00304"></a><span class="lineno">  304</span>&#160;        metaData_-&gt;<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html#a21b32184b95370ad80821a974e032797">size</a> = data-&gt;total_length();</div><div class="line"><a name="l00305"></a><span class="lineno">  305</span>&#160;        metaData_-&gt;<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html#ae4a2757688f5a2e04f6103845b3025cc">native</a> = metaTypeInfo-&gt;<a class="code" href="classSideCar_1_1Messages_1_1MetaTypeInfo.html#a60da6d3babf7851d10eabd43e6dd6564">getCDRLoader</a>()(decoder);</div><div class="line"><a name="l00306"></a><span class="lineno">  306</span>&#160;    }</div><div class="line"><a name="l00307"></a><span class="lineno">  307</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00308"></a><span class="lineno">  308</span>&#160;</div><div class="line"><a name="l00309"></a><span class="lineno">  309</span>&#160;    <span class="keywordflow">case</span> <a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#a46b6b1e2abba89dd052f3d0de92279b8a40e4381edd5f4aaf39b5f6951a5d6949">kMetaData</a>:</div><div class="line"><a name="l00310"></a><span class="lineno">  310</span>&#160;    <a class="code" href="Log_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;kMetaData&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00311"></a><span class="lineno">  311</span>&#160;</div><div class="line"><a name="l00312"></a><span class="lineno">  312</span>&#160;    <span class="comment">// Native message object.</span></div><div class="line"><a name="l00313"></a><span class="lineno">  313</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00314"></a><span class="lineno">  314</span>&#160;    data_ = data;</div><div class="line"><a name="l00315"></a><span class="lineno">  315</span>&#160;    metaData_ = <span class="keyword">reinterpret_cast&lt;</span><a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html">MetaData</a>*<span class="keyword">&gt;</span>(data-&gt;base());</div><div class="line"><a name="l00316"></a><span class="lineno">  316</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00317"></a><span class="lineno">  317</span>&#160;</div><div class="line"><a name="l00318"></a><span class="lineno">  318</span>&#160;    <span class="keywordflow">default</span>:</div><div class="line"><a name="l00319"></a><span class="lineno">  319</span>&#160;    <a class="code" href="Log_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;default - control message&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00320"></a><span class="lineno">  320</span>&#160;</div><div class="line"><a name="l00321"></a><span class="lineno">  321</span>&#160;    <span class="comment">// Should be a control message</span></div><div class="line"><a name="l00322"></a><span class="lineno">  322</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00323"></a><span class="lineno">  323</span>&#160;    <span class="keywordflow">if</span> (! <a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#af4ea00e73539f9a27085f6362ebe8834">IsControlMessage</a>(data)) {</div><div class="line"><a name="l00324"></a><span class="lineno">  324</span>&#160;        <a class="code" href="classUtils_1_1Exception.html">Utils::Exception</a> ex(<span class="stringliteral">&quot;invalid message type - &quot;</span>);</div><div class="line"><a name="l00325"></a><span class="lineno">  325</span>&#160;        ex &lt;&lt; data-&gt;msg_type();</div><div class="line"><a name="l00326"></a><span class="lineno">  326</span>&#160;        log.<a class="code" href="classLogger_1_1ProcLog.html#a8dcfe4bab6e76a12720a546fbe5f932e">thrower</a>(ex);</div><div class="line"><a name="l00327"></a><span class="lineno">  327</span>&#160;    }</div><div class="line"><a name="l00328"></a><span class="lineno">  328</span>&#160;</div><div class="line"><a name="l00329"></a><span class="lineno">  329</span>&#160;    data_ = data;</div><div class="line"><a name="l00330"></a><span class="lineno">  330</span>&#160;    <span class="keywordflow">break</span>;</div><div class="line"><a name="l00331"></a><span class="lineno">  331</span>&#160;    }</div><div class="line"><a name="l00332"></a><span class="lineno">  332</span>&#160;</div><div class="line"><a name="l00333"></a><span class="lineno">  333</span>&#160;    <a class="code" href="Log_8h.html#a56b44a9b832c6010497b6fc884fe2966">LOGTOUT</a> &lt;&lt; std::endl;</div><div class="line"><a name="l00334"></a><span class="lineno">  334</span>&#160;}</div><div class="line"><a name="l00335"></a><span class="lineno">  335</span>&#160;</div><div class="line"><a name="l00336"></a><span class="lineno"><a class="line" href="classSideCar_1_1IO_1_1MessageManager.html#a4b5866d0faa20904470a48a6ba5f6eab">  336</a></span>&#160;<a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#a4b5866d0faa20904470a48a6ba5f6eab">MessageManager::~MessageManager</a>()</div><div class="line"><a name="l00337"></a><span class="lineno">  337</span>&#160;{</div><div class="line"><a name="l00338"></a><span class="lineno">  338</span>&#160;    <span class="keyword">static</span> <a class="code" href="classLogger_1_1ProcLog.html">Logger::ProcLog</a> log(<span class="stringliteral">&quot;~MessageManager&quot;</span>, <a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#a84007c75520f72fb2be54e75d67c3456">Log</a>());</div><div class="line"><a name="l00339"></a><span class="lineno">  339</span>&#160;    <a class="code" href="Log_8h.html#aa5225a678cd87ae1a247d0563073474e">LOGINFO</a> &lt;&lt; <span class="keyword">this</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00340"></a><span class="lineno">  340</span>&#160;</div><div class="line"><a name="l00341"></a><span class="lineno">  341</span>&#160;    <span class="comment">// NOTE: since the MetaData object resides in the storage of an ACE_Data_Block, we don&#39;t do anything with it</span></div><div class="line"><a name="l00342"></a><span class="lineno">  342</span>&#160;    <span class="comment">// here -- when the ACE_Data_block is destroyed, the MetaDataAllocator::free method is called which will</span></div><div class="line"><a name="l00343"></a><span class="lineno">  343</span>&#160;    <span class="comment">// invoke ~MetaData().</span></div><div class="line"><a name="l00344"></a><span class="lineno">  344</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00345"></a><span class="lineno">  345</span>&#160;    <span class="keywordflow">if</span> (data_) data_-&gt;release();</div><div class="line"><a name="l00346"></a><span class="lineno">  346</span>&#160;    metaData_ = 0;</div><div class="line"><a name="l00347"></a><span class="lineno">  347</span>&#160;}</div><div class="line"><a name="l00348"></a><span class="lineno">  348</span>&#160;</div><div class="line"><a name="l00349"></a><span class="lineno">  349</span>&#160;<span class="keywordtype">void</span></div><div class="line"><a name="l00350"></a><span class="lineno">  350</span>&#160;MessageManager::makeMetaData(ACE_Message_Block* raw)</div><div class="line"><a name="l00351"></a><span class="lineno">  351</span>&#160;{</div><div class="line"><a name="l00352"></a><span class="lineno">  352</span>&#160;    data_ = <span class="keyword">new</span>(MessageBlockAllocator::instance()-&gt;malloc(<span class="keyword">sizeof</span>(ACE_Message_Block)))</div><div class="line"><a name="l00353"></a><span class="lineno">  353</span>&#160;    ACE_Message_Block(<span class="keyword">sizeof</span>(<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html">MetaData</a>),</div><div class="line"><a name="l00354"></a><span class="lineno">  354</span>&#160;                          <a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#a46b6b1e2abba89dd052f3d0de92279b8a40e4381edd5f4aaf39b5f6951a5d6949">kMetaData</a>,</div><div class="line"><a name="l00355"></a><span class="lineno">  355</span>&#160;                          raw,  <span class="comment">// continuation</span></div><div class="line"><a name="l00356"></a><span class="lineno">  356</span>&#160;                          0,    <span class="comment">// data data pointer</span></div><div class="line"><a name="l00357"></a><span class="lineno">  357</span>&#160;                          MetaDataAllocator::instance(),</div><div class="line"><a name="l00358"></a><span class="lineno">  358</span>&#160;                          MessageBlockLockingStrategy::instance(),</div><div class="line"><a name="l00359"></a><span class="lineno">  359</span>&#160;                          ACE_DEFAULT_MESSAGE_BLOCK_PRIORITY,</div><div class="line"><a name="l00360"></a><span class="lineno">  360</span>&#160;                          ACE_Time_Value::zero,</div><div class="line"><a name="l00361"></a><span class="lineno">  361</span>&#160;                          ACE_Time_Value::max_time,</div><div class="line"><a name="l00362"></a><span class="lineno">  362</span>&#160;                          DataBlockAllocator::instance(),</div><div class="line"><a name="l00363"></a><span class="lineno">  363</span>&#160;                          MessageBlockAllocator::instance());</div><div class="line"><a name="l00364"></a><span class="lineno">  364</span>&#160;</div><div class="line"><a name="l00365"></a><span class="lineno">  365</span>&#160;    <span class="comment">// Use placement new to initialize raw memory pointed to by data_-&gt;base().</span></div><div class="line"><a name="l00366"></a><span class="lineno">  366</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00367"></a><span class="lineno">  367</span>&#160;    metaData_ = <span class="keyword">new</span>(data_-&gt;base()) <a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html">MetaData</a>;</div><div class="line"><a name="l00368"></a><span class="lineno">  368</span>&#160;}</div><div class="line"><a name="l00369"></a><span class="lineno">  369</span>&#160;</div><div class="line"><a name="l00370"></a><span class="lineno">  370</span>&#160;ACE_Message_Block*</div><div class="line"><a name="l00371"></a><span class="lineno"><a class="line" href="classSideCar_1_1IO_1_1MessageManager.html#ae3e23ee13333f981f2addb85019d2fbe">  371</a></span>&#160;<a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#ae3e23ee13333f981f2addb85019d2fbe">MessageManager::getEncoded</a>()<span class="keyword"> const</span></div><div class="line"><a name="l00372"></a><span class="lineno">  372</span>&#160;<span class="keyword"></span>{</div><div class="line"><a name="l00373"></a><span class="lineno">  373</span>&#160;    <span class="keyword">static</span> <a class="code" href="classLogger_1_1ProcLog.html">Logger::ProcLog</a> log(<span class="stringliteral">&quot;getEncoded&quot;</span>, <a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#a84007c75520f72fb2be54e75d67c3456">Log</a>());</div><div class="line"><a name="l00374"></a><span class="lineno">  374</span>&#160;    <a class="code" href="Log_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a> &lt;&lt; data_-&gt;cont() &lt;&lt; std::endl;</div><div class="line"><a name="l00375"></a><span class="lineno">  375</span>&#160;</div><div class="line"><a name="l00376"></a><span class="lineno">  376</span>&#160;    <span class="comment">// Cannot generate an encoded representation without a native message.</span></div><div class="line"><a name="l00377"></a><span class="lineno">  377</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00378"></a><span class="lineno">  378</span>&#160;    <span class="keywordflow">if</span> (! <a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#a5bc0eff13be6978bb93ed8dda38bfde3">hasNative</a>()) {</div><div class="line"><a name="l00379"></a><span class="lineno">  379</span>&#160;    <a class="code" href="Log_8h.html#a29b9525322b08a5b2bb7fa30ebc48214">LOGERROR</a> &lt;&lt; <span class="stringliteral">&quot;no held message object to encode&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00380"></a><span class="lineno">  380</span>&#160;    <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00381"></a><span class="lineno">  381</span>&#160;    }</div><div class="line"><a name="l00382"></a><span class="lineno">  382</span>&#160;</div><div class="line"><a name="l00383"></a><span class="lineno">  383</span>&#160;    <span class="comment">// We must be able to lock</span></div><div class="line"><a name="l00384"></a><span class="lineno">  384</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00385"></a><span class="lineno">  385</span>&#160;    assert(data_-&gt;locking_strategy());</div><div class="line"><a name="l00386"></a><span class="lineno">  386</span>&#160;</div><div class="line"><a name="l00387"></a><span class="lineno">  387</span>&#160;    <span class="comment">// !!! Unprotected cont() check !!! This may be misguided, but here is my rationale: we want to hold the</span></div><div class="line"><a name="l00388"></a><span class="lineno">  388</span>&#160;    <span class="comment">// lock for the least amount of time, so we wait until *after* we&#39;ve generated the encoded data blocks, at</span></div><div class="line"><a name="l00389"></a><span class="lineno">  389</span>&#160;    <span class="comment">// which point we safely check for a NULL cont() value. If that is still true, then we can update it with</span></div><div class="line"><a name="l00390"></a><span class="lineno">  390</span>&#160;    <span class="comment">// our encoded data. Otherwise, someone else beat us to it and we just forget all of the encoding we did.</span></div><div class="line"><a name="l00391"></a><span class="lineno">  391</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00392"></a><span class="lineno">  392</span>&#160;    <span class="keywordflow">if</span> (! data_-&gt;cont()) {</div><div class="line"><a name="l00393"></a><span class="lineno">  393</span>&#160;    <a class="code" href="Log_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a> &lt;&lt; <span class="stringliteral">&quot;encoding held message object&quot;</span> &lt;&lt; std::endl;</div><div class="line"><a name="l00394"></a><span class="lineno">  394</span>&#160;</div><div class="line"><a name="l00395"></a><span class="lineno">  395</span>&#160;    <span class="comment">// Create an encoder for the body of the message.</span></div><div class="line"><a name="l00396"></a><span class="lineno">  396</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00397"></a><span class="lineno">  397</span>&#160;    ACE_OutputCDR messageEncoder(<span class="keywordtype">size_t</span>(0), ACE_CDR_BYTE_ORDER, (ACE_Allocator*)(0),</div><div class="line"><a name="l00398"></a><span class="lineno">  398</span>&#160;                                     DataBlockAllocator::instance(), MessageBlockAllocator::instance());</div><div class="line"><a name="l00399"></a><span class="lineno">  399</span>&#160;</div><div class="line"><a name="l00400"></a><span class="lineno">  400</span>&#160;    <span class="comment">// Write out the encoded representation.</span></div><div class="line"><a name="l00401"></a><span class="lineno">  401</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00402"></a><span class="lineno">  402</span>&#160;    <span class="keywordflow">if</span> (! metaData_-&gt;<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html#ae4a2757688f5a2e04f6103845b3025cc">native</a>-&gt;write(messageEncoder).good_bit()) {</div><div class="line"><a name="l00403"></a><span class="lineno">  403</span>&#160;        <a class="code" href="Log_8h.html#a29b9525322b08a5b2bb7fa30ebc48214">LOGERROR</a> &lt;&lt; <span class="stringliteral">&quot;failed to encode object &quot;</span> &lt;&lt; metaData_-&gt;<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html#ae4a2757688f5a2e04f6103845b3025cc">native</a>.get() &lt;&lt; std::endl;</div><div class="line"><a name="l00404"></a><span class="lineno">  404</span>&#160;        <span class="keywordflow">return</span> 0;</div><div class="line"><a name="l00405"></a><span class="lineno">  405</span>&#160;    }</div><div class="line"><a name="l00406"></a><span class="lineno">  406</span>&#160;</div><div class="line"><a name="l00407"></a><span class="lineno">  407</span>&#160;    <span class="comment">// Now create an encoder for the message preamble that contains the size of the body.</span></div><div class="line"><a name="l00408"></a><span class="lineno">  408</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00409"></a><span class="lineno">  409</span>&#160;    <a class="code" href="classSideCar_1_1IO_1_1Preamble.html">Preamble</a> preamble(messageEncoder.total_length());</div><div class="line"><a name="l00410"></a><span class="lineno">  410</span>&#160;    ACE_OutputCDR preambleEncoder(<a class="code" href="classSideCar_1_1IO_1_1Preamble.html#ac5f49de865c2b99c6d6c5aaaa7dcec8ea31f810d3cd230d2b6bc3fa9d032e3d73">Preamble::kCDRStreamSize</a>, ACE_CDR_BYTE_ORDER, 0, <span class="comment">// buffer allocator</span></div><div class="line"><a name="l00411"></a><span class="lineno">  411</span>&#160;                                      DataBlockAllocator::instance(), MessageBlockAllocator::instance());</div><div class="line"><a name="l00412"></a><span class="lineno">  412</span>&#160;    preamble.write(preambleEncoder);</div><div class="line"><a name="l00413"></a><span class="lineno">  413</span>&#160;</div><div class="line"><a name="l00414"></a><span class="lineno">  414</span>&#160;    <span class="comment">// Make a duplicate of the encoded blocks since the encoder does not give up ownership. First, the</span></div><div class="line"><a name="l00415"></a><span class="lineno">  415</span>&#160;    <span class="comment">// preamble block, followed by the encoded message data.</span></div><div class="line"><a name="l00416"></a><span class="lineno">  416</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00417"></a><span class="lineno">  417</span>&#160;    ACE_Message_Block* bytes = preambleEncoder.begin()-&gt;duplicate();</div><div class="line"><a name="l00418"></a><span class="lineno">  418</span>&#160;    bytes-&gt;cont(messageEncoder.begin()-&gt;duplicate());</div><div class="line"><a name="l00419"></a><span class="lineno">  419</span>&#160;</div><div class="line"><a name="l00420"></a><span class="lineno">  420</span>&#160;    <span class="comment">// !!! Protected cont() check !!! Store the encoded block chain so we don&#39;t have to do this again. If</span></div><div class="line"><a name="l00421"></a><span class="lineno">  421</span>&#160;    <span class="comment">// someone else got here first and updated the cont() field, we just forget our encoded data.</span></div><div class="line"><a name="l00422"></a><span class="lineno">  422</span>&#160;    <span class="comment">//</span></div><div class="line"><a name="l00423"></a><span class="lineno">  423</span>&#160;    ACE_Guard&lt;ACE_Lock&gt; guard(*data_-&gt;locking_strategy());</div><div class="line"><a name="l00424"></a><span class="lineno">  424</span>&#160;    <span class="keywordflow">if</span> (! data_-&gt;cont()) {</div><div class="line"><a name="l00425"></a><span class="lineno">  425</span>&#160;        data_-&gt;cont(bytes);</div><div class="line"><a name="l00426"></a><span class="lineno">  426</span>&#160;        }</div><div class="line"><a name="l00427"></a><span class="lineno">  427</span>&#160;        <span class="keywordflow">else</span> {</div><div class="line"><a name="l00428"></a><span class="lineno">  428</span>&#160;        bytes-&gt;release();</div><div class="line"><a name="l00429"></a><span class="lineno">  429</span>&#160;        }</div><div class="line"><a name="l00430"></a><span class="lineno">  430</span>&#160;    }</div><div class="line"><a name="l00431"></a><span class="lineno">  431</span>&#160;</div><div class="line"><a name="l00432"></a><span class="lineno">  432</span>&#160;    <span class="keywordflow">return</span> data_-&gt;cont()-&gt;duplicate();</div><div class="line"><a name="l00433"></a><span class="lineno">  433</span>&#160;}</div><div class="line"><a name="l00434"></a><span class="lineno">  434</span>&#160;</div><div class="line"><a name="l00435"></a><span class="lineno">  435</span>&#160;<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats.html">MessageManager::AllocationStats</a></div><div class="line"><a name="l00436"></a><span class="lineno"><a class="line" href="classSideCar_1_1IO_1_1MessageManager.html#a1043f8b7abb74a06a37b644b903bd4b8">  436</a></span>&#160;<a class="code" href="classSideCar_1_1IO_1_1MessageManager.html#a1043f8b7abb74a06a37b644b903bd4b8">MessageManager::GetAllocationStats</a>()</div><div class="line"><a name="l00437"></a><span class="lineno">  437</span>&#160;{</div><div class="line"><a name="l00438"></a><span class="lineno">  438</span>&#160;    <a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats.html">AllocationStats</a> stats;</div><div class="line"><a name="l00439"></a><span class="lineno">  439</span>&#160;    stats.<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats.html#af084225e5e28b15dba3022239ec8cf95">messageBlocks</a> = MessageBlockAllocator::instance()-&gt;getAllocationStats();</div><div class="line"><a name="l00440"></a><span class="lineno">  440</span>&#160;    stats.<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats.html#a63080bc9780be002bc7a5db27a086ade">dataBlocks</a> = DataBlockAllocator::instance()-&gt;getAllocationStats();</div><div class="line"><a name="l00441"></a><span class="lineno">  441</span>&#160;    stats.<a class="code" href="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats.html#a96e448c26e2e1aa886bc92aff1687cdf">metaData</a> = MetaDataAllocator::instance()-&gt;getAllocationStats();</div><div class="line"><a name="l00442"></a><span class="lineno">  442</span>&#160;    <span class="keywordflow">return</span> stats;</div><div class="line"><a name="l00443"></a><span class="lineno">  443</span>&#160;}</div><div class="ttc" id="namespaceSideCar_1_1IO_html"><div class="ttname"><a href="namespaceSideCar_1_1IO.html">SideCar::IO</a></div><div class="ttdoc">Namespace for entities that handle SideCar data I/O. </div><div class="ttdef"><b>Definition:</b> <a href="InfoFormatter_8h_source.html#l00011">InfoFormatter.h:11</a></div></div>
<div class="ttc" id="MessageManager_8h_html"><div class="ttname"><a href="MessageManager_8h.html">MessageManager.h</a></div></div>
<div class="ttc" id="Log_8h_html_a1fc2060edb9d1f8a777b307c0f7a2724"><div class="ttname"><a href="Log_8h.html#a1fc2060edb9d1f8a777b307c0f7a2724">LOGDEBUG</a></div><div class="ttdeci">#define LOGDEBUG</div><div class="ttdoc">Macro to conditionally obtain a log stream if log device is accepting debug1 messages. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00655">Log.h:655</a></div></div>
<div class="ttc" id="Log_8h_html_a9786e5165d937dbbd83fc774548339a6"><div class="ttname"><a href="Log_8h.html#a9786e5165d937dbbd83fc774548339a6">LOGTIN</a></div><div class="ttdeci">#define LOGTIN</div><div class="ttdoc">Macro to conditionally obtain a log stream if log device is accepting trace messages. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00663">Log.h:663</a></div></div>
<div class="ttc" id="classUtils_1_1Pool_html"><div class="ttname"><a href="classUtils_1_1Pool.html">Utils::Pool</a></div><div class="ttdoc">An allocator for same-size memory chunks. </div><div class="ttdef"><b>Definition:</b> <a href="Pool_8h_source.html#l00033">Pool.h:33</a></div></div>
<div class="ttc" id="classPoolAllocator_html_abee94d9b1a0dfaae8cf4782e4d88f7f1"><div class="ttname"><a href="classPoolAllocator.html#abee94d9b1a0dfaae8cf4782e4d88f7f1">PoolAllocator::Log</a></div><div class="ttdeci">static Logger::Log &amp; Log()</div><div class="ttdoc">Obtainn log device for PoolAllocator objects. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00095">MessageManager.cc:95</a></div></div>
<div class="ttc" id="classLogger_1_1ProcLog_html_a8dcfe4bab6e76a12720a546fbe5f932e"><div class="ttname"><a href="classLogger_1_1ProcLog.html#a8dcfe4bab6e76a12720a546fbe5f932e">Logger::ProcLog::thrower</a></div><div class="ttdeci">void thrower(const T &amp;ex)</div><div class="ttdoc">Generate a `fatal&amp;#39; log message from an Utils::Exception object, and throw the exception object...</div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00527">Log.h:527</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1MessageManager_html_a46b6b1e2abba89dd052f3d0de92279b8a40e4381edd5f4aaf39b5f6951a5d6949"><div class="ttname"><a href="classSideCar_1_1IO_1_1MessageManager.html#a46b6b1e2abba89dd052f3d0de92279b8a40e4381edd5f4aaf39b5f6951a5d6949">SideCar::IO::MessageManager::kMetaData</a></div><div class="ttdoc">Native message data (eg PRIMessage) </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8h_source.html#l00056">MessageManager.h:56</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1MessageManager_html_a4b5866d0faa20904470a48a6ba5f6eab"><div class="ttname"><a href="classSideCar_1_1IO_1_1MessageManager.html#a4b5866d0faa20904470a48a6ba5f6eab">SideCar::IO::MessageManager::~MessageManager</a></div><div class="ttdeci">~MessageManager()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00336">MessageManager.cc:336</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1MessageManager_html_ae3e23ee13333f981f2addb85019d2fbe"><div class="ttname"><a href="classSideCar_1_1IO_1_1MessageManager.html#ae3e23ee13333f981f2addb85019d2fbe">SideCar::IO::MessageManager::getEncoded</a></div><div class="ttdeci">ACE_Message_Block * getEncoded() const </div><div class="ttdoc">Obtain encoded message data. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00371">MessageManager.cc:371</a></div></div>
<div class="ttc" id="classLogger_1_1Log_html_a091feecfafbb5c02875d08e1c4b27a2a"><div class="ttname"><a href="classLogger_1_1Log.html#a091feecfafbb5c02875d08e1c4b27a2a">Logger::Log::Find</a></div><div class="ttdeci">static Log &amp; Find(const std::string &amp;name, bool hidden=false)</div><div class="ttdoc">Class method that locates/creates a Log instance under a given name. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8cc_source.html#l00353">Log.cc:353</a></div></div>
<div class="ttc" id="classPoolAllocator_html_a26c43e122c01fcab3e75b3c68549bedd"><div class="ttname"><a href="classPoolAllocator.html#a26c43e122c01fcab3e75b3c68549bedd">PoolAllocator::calloc</a></div><div class="ttdeci">void * calloc(size_t size, char init= '\0')</div><div class="ttdoc">Override of ACE_New_Allocator::calloc() method. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00124">MessageManager.cc:124</a></div></div>
<div class="ttc" id="structUtils_1_1Pool_1_1AllocationStats_html"><div class="ttname"><a href="structUtils_1_1Pool_1_1AllocationStats.html">Utils::Pool::AllocationStats</a></div><div class="ttdef"><b>Definition:</b> <a href="Pool_8h_source.html#l00037">Pool.h:37</a></div></div>
<div class="ttc" id="Pool_8h_html"><div class="ttname"><a href="Pool_8h.html">Pool.h</a></div></div>
<div class="ttc" id="Log_8h_html_aa5225a678cd87ae1a247d0563073474e"><div class="ttname"><a href="Log_8h.html#aa5225a678cd87ae1a247d0563073474e">LOGINFO</a></div><div class="ttdeci">#define LOGINFO</div><div class="ttdoc">Macro to conditionally obtain a log stream if log device is accepting info messages. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00667">Log.h:667</a></div></div>
<div class="ttc" id="structSideCar_1_1IO_1_1MessageManager_1_1MetaData_html_a21b32184b95370ad80821a974e032797"><div class="ttname"><a href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html#a21b32184b95370ad80821a974e032797">SideCar::IO::MessageManager::MetaData::size</a></div><div class="ttdeci">size_t size</div><div class="ttdoc">Number of bytes represented by the contents of the MetaData. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8h_source.html#l00083">MessageManager.h:83</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1MessageManager_html_af4ea00e73539f9a27085f6362ebe8834"><div class="ttname"><a href="classSideCar_1_1IO_1_1MessageManager.html#af4ea00e73539f9a27085f6362ebe8834">SideCar::IO::MessageManager::IsControlMessage</a></div><div class="ttdeci">static bool IsControlMessage(ACE_Message_Block *data)</div><div class="ttdoc">Determine if the given data block contains a control message. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8h_source.html#l00164">MessageManager.h:164</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1ControlMessage_html_aa5a4ec88cf8c7122aca537a7dd4f74e1"><div class="ttname"><a href="classSideCar_1_1IO_1_1ControlMessage.html#aa5a4ec88cf8c7122aca537a7dd4f74e1">SideCar::IO::ControlMessage::Type</a></div><div class="ttdeci">Type</div><div class="ttdoc">Control message types. </div><div class="ttdef"><b>Definition:</b> <a href="ControlMessage_8h_source.html#l00020">ControlMessage.h:20</a></div></div>
<div class="ttc" id="classUtils_1_1Pool_html_a911ad8ba3a56b364c05c8602ce387b75"><div class="ttname"><a href="classUtils_1_1Pool.html#a911ad8ba3a56b364c05c8602ce387b75">Utils::Pool::release</a></div><div class="ttdeci">void release(void *ptr, std::size_t size)</div><div class="ttdoc">Reclaim chunk allocated for an object. </div><div class="ttdef"><b>Definition:</b> <a href="Pool_8cc_source.html#l00064">Pool.cc:64</a></div></div>
<div class="ttc" id="Log_8h_html"><div class="ttname"><a href="Log_8h.html">Log.h</a></div></div>
<div class="ttc" id="classUtils_1_1Exception_html"><div class="ttname"><a href="classUtils_1_1Exception.html">Utils::Exception</a></div><div class="ttdoc">Base exception class. </div><div class="ttdef"><b>Definition:</b> <a href="Exception_8h_source.html#l00024">Exception.h:24</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1Decoder_html"><div class="ttname"><a href="classSideCar_1_1IO_1_1Decoder.html">SideCar::IO::Decoder</a></div><div class="ttdoc">Demarshalling class that converts raw bytes from readers into objects. </div><div class="ttdef"><b>Definition:</b> <a href="Decoder_8h_source.html#l00017">Decoder.h:17</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1MessageManager_html_a84007c75520f72fb2be54e75d67c3456"><div class="ttname"><a href="classSideCar_1_1IO_1_1MessageManager.html#a84007c75520f72fb2be54e75d67c3456">SideCar::IO::MessageManager::Log</a></div><div class="ttdeci">static Logger::Log &amp; Log()</div><div class="ttdoc">Obtain the log device for MessageManager objects. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00231">MessageManager.cc:231</a></div></div>
<div class="ttc" id="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats_html_a96e448c26e2e1aa886bc92aff1687cdf"><div class="ttname"><a href="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats.html#a96e448c26e2e1aa886bc92aff1687cdf">SideCar::IO::MessageManager::AllocationStats::metaData</a></div><div class="ttdeci">Utils::Pool::AllocationStats metaData</div><div class="ttdoc">Stats for MetaData objects created by MessageManager. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8h_source.html#l00107">MessageManager.h:107</a></div></div>
<div class="ttc" id="structSideCar_1_1IO_1_1MessageManager_1_1MetaData_html_ae4a2757688f5a2e04f6103845b3025cc"><div class="ttname"><a href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html#ae4a2757688f5a2e04f6103845b3025cc">SideCar::IO::MessageManager::MetaData::native</a></div><div class="ttdeci">Messages::Header::Ref native</div><div class="ttdoc">Shared reference to a native message object, one that has either been decoded from the network or fil...</div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8h_source.html#l00077">MessageManager.h:77</a></div></div>
<div class="ttc" id="classMessageBlockLockingStrategyImpl_html"><div class="ttname"><a href="classMessageBlockLockingStrategyImpl.html">MessageBlockLockingStrategyImpl</a></div><div class="ttdoc">Define a locking strategy for the message blocks allocated by a MessageManager. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00217">MessageManager.cc:217</a></div></div>
<div class="ttc" id="Preamble_8h_html"><div class="ttname"><a href="Preamble_8h.html">Preamble.h</a></div></div>
<div class="ttc" id="classDataBlockAllocatorImpl_html"><div class="ttname"><a href="classDataBlockAllocatorImpl.html">DataBlockAllocatorImpl</a></div><div class="ttdoc">Specialization of the PoolAllocator for ACE_Data_Block objects. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00161">MessageManager.cc:161</a></div></div>
<div class="ttc" id="classPoolAllocator_html_a949d4fbe210b30bb482713c87bc11211"><div class="ttname"><a href="classPoolAllocator.html#a949d4fbe210b30bb482713c87bc11211">PoolAllocator::getAllocationStats</a></div><div class="ttdeci">Utils::Pool::AllocationStats getAllocationStats() const </div><div class="ttdoc">Obtain allocation statistics for this allocator. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00050">MessageManager.cc:50</a></div></div>
<div class="ttc" id="classLogger_1_1Log_html"><div class="ttname"><a href="classLogger_1_1Log.html">Logger::Log</a></div><div class="ttdoc">Master class for the Logger system. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00092">Log.h:92</a></div></div>
<div class="ttc" id="classPoolAllocator_html_a3db516dc6d6d798b89a7500aec3a2189"><div class="ttname"><a href="classPoolAllocator.html#a3db516dc6d6d798b89a7500aec3a2189">PoolAllocator::malloc</a></div><div class="ttdeci">void * malloc(size_t size)</div><div class="ttdoc">Override of ACE_New_Allocator::malloc() method. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00117">MessageManager.cc:117</a></div></div>
<div class="ttc" id="classPoolAllocator_html_a461014f2bd6651d35f3432a4fbfb5704"><div class="ttname"><a href="classPoolAllocator.html#a461014f2bd6651d35f3432a4fbfb5704">PoolAllocator::free</a></div><div class="ttdeci">void free(void *ptr)</div><div class="ttdoc">Return a previously-allocated object to the pool. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00132">MessageManager.cc:132</a></div></div>
<div class="ttc" id="classPoolAllocator_html_ac4ac1fe039f85056fa928b7c74970ab1"><div class="ttname"><a href="classPoolAllocator.html#ac4ac1fe039f85056fa928b7c74970ab1">PoolAllocator::~PoolAllocator</a></div><div class="ttdeci">~PoolAllocator()</div><div class="ttdoc">Destructor. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00110">MessageManager.cc:110</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1MessageManager_html_a46b6b1e2abba89dd052f3d0de92279b8a5cb3cff5f622502c34caeec6f535aada"><div class="ttname"><a href="classSideCar_1_1IO_1_1MessageManager.html#a46b6b1e2abba89dd052f3d0de92279b8a5cb3cff5f622502c34caeec6f535aada">SideCar::IO::MessageManager::kRawData</a></div><div class="ttdoc">Raw, non-native data, such as messages from VME or TSPI servers. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8h_source.html#l00052">MessageManager.h:52</a></div></div>
<div class="ttc" id="classLogger_1_1ProcLog_html"><div class="ttname"><a href="classLogger_1_1ProcLog.html">Logger::ProcLog</a></div><div class="ttdoc">Utility class used to create log messages prefixed with a procedure name. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00501">Log.h:501</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1MessageManager_html_a4cd55d2fae3779f307a5f1c5f617e958"><div class="ttname"><a href="classSideCar_1_1IO_1_1MessageManager.html#a4cd55d2fae3779f307a5f1c5f617e958">SideCar::IO::MessageManager::MessageManager</a></div><div class="ttdeci">MessageManager(ACE_Message_Block *data, const Messages::MetaTypeInfo *metaTypeInfo=0)</div><div class="ttdoc">Constructor that takes raw data from an ACE_Message_Block object. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00273">MessageManager.cc:273</a></div></div>
<div class="ttc" id="classMetaDataAllocatorImpl_html_aebd5609270b8d53d5c5a43f55fa8bf9e"><div class="ttname"><a href="classMetaDataAllocatorImpl.html#aebd5609270b8d53d5c5a43f55fa8bf9e">MetaDataAllocatorImpl::free</a></div><div class="ttdeci">void free(void *obj)</div><div class="ttdoc">Override of PoolAllocator method. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00202">MessageManager.cc:202</a></div></div>
<div class="ttc" id="namespaceSideCar_html"><div class="ttname"><a href="namespaceSideCar.html">SideCar</a></div><div class="ttdoc">Namespace for all entities specific to the 331 SideCar project. </div><div class="ttdef"><b>Definition:</b> <a href="ABTracker_8h_source.html#l00010">ABTracker.h:10</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1MessageManager_html_a5bc0eff13be6978bb93ed8dda38bfde3"><div class="ttname"><a href="classSideCar_1_1IO_1_1MessageManager.html#a5bc0eff13be6978bb93ed8dda38bfde3">SideCar::IO::MessageManager::hasNative</a></div><div class="ttdeci">bool hasNative() const </div><div class="ttdoc">Determine if there is a native SideCar message associated with the data block. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8h_source.html#l00269">MessageManager.h:269</a></div></div>
<div class="ttc" id="classPoolAllocator_html"><div class="ttname"><a href="classPoolAllocator.html">PoolAllocator</a></div><div class="ttdoc">A wrapper for the Utils::Pool class which allows it to be used as an ACE memory allocator. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00024">MessageManager.cc:24</a></div></div>
<div class="ttc" id="classPoolAllocator_html_adbe6f1bef3da8232bdbb9d75098e3503"><div class="ttname"><a href="classPoolAllocator.html#adbe6f1bef3da8232bdbb9d75098e3503">PoolAllocator::PoolAllocator</a></div><div class="ttdeci">PoolAllocator(size_t objectSize, const char *name)</div><div class="ttdoc">Constructor. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00102">MessageManager.cc:102</a></div></div>
<div class="ttc" id="classUtils_1_1Pool_html_a1e594b4859cd07e1cf886dedad21dffc"><div class="ttname"><a href="classUtils_1_1Pool.html#a1e594b4859cd07e1cf886dedad21dffc">Utils::Pool::allocate</a></div><div class="ttdeci">void * allocate(std::size_t size)</div><div class="ttdoc">Allocate chunk for object. </div><div class="ttdef"><b>Definition:</b> <a href="Pool_8cc_source.html#l00043">Pool.cc:43</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1MessageManager_html_a1043f8b7abb74a06a37b644b903bd4b8"><div class="ttname"><a href="classSideCar_1_1IO_1_1MessageManager.html#a1043f8b7abb74a06a37b644b903bd4b8">SideCar::IO::MessageManager::GetAllocationStats</a></div><div class="ttdeci">static AllocationStats GetAllocationStats()</div><div class="ttdoc">Class method that returns information about memory allocation performed by internal MesageManager mem...</div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00436">MessageManager.cc:436</a></div></div>
<div class="ttc" id="classSideCar_1_1Messages_1_1MetaTypeInfo_html_a60da6d3babf7851d10eabd43e6dd6564"><div class="ttname"><a href="classSideCar_1_1Messages_1_1MetaTypeInfo.html#a60da6d3babf7851d10eabd43e6dd6564">SideCar::Messages::MetaTypeInfo::getCDRLoader</a></div><div class="ttdeci">CDRLoader getCDRLoader() const </div><div class="ttdoc">Obtain the loader for the message class. </div><div class="ttdef"><b>Definition:</b> <a href="MetaTypeInfo_8cc_source.html#l00297">MetaTypeInfo.cc:297</a></div></div>
<div class="ttc" id="Log_8h_html_a29b9525322b08a5b2bb7fa30ebc48214"><div class="ttname"><a href="Log_8h.html#a29b9525322b08a5b2bb7fa30ebc48214">LOGERROR</a></div><div class="ttdeci">#define LOGERROR</div><div class="ttdoc">Macro to conditionally obtain a log stream if log device is accepting error messages. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00675">Log.h:675</a></div></div>
<div class="ttc" id="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats_html_a63080bc9780be002bc7a5db27a086ade"><div class="ttname"><a href="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats.html#a63080bc9780be002bc7a5db27a086ade">SideCar::IO::MessageManager::AllocationStats::dataBlocks</a></div><div class="ttdeci">Utils::Pool::AllocationStats dataBlocks</div><div class="ttdoc">Stats for ACE_Data_Block objects created by MessageManager. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8h_source.html#l00103">MessageManager.h:103</a></div></div>
<div class="ttc" id="classMessageBlockAllocatorImpl_html"><div class="ttname"><a href="classMessageBlockAllocatorImpl.html">MessageBlockAllocatorImpl</a></div><div class="ttdoc">Specialization of the PoolAllocator for ACE_Message_Block objects. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00142">MessageManager.cc:142</a></div></div>
<div class="ttc" id="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats_html_af084225e5e28b15dba3022239ec8cf95"><div class="ttname"><a href="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats.html#af084225e5e28b15dba3022239ec8cf95">SideCar::IO::MessageManager::AllocationStats::messageBlocks</a></div><div class="ttdeci">Utils::Pool::AllocationStats messageBlocks</div><div class="ttdoc">Stats for ACE_Message_Block objects created by MessageManager. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8h_source.html#l00099">MessageManager.h:99</a></div></div>
<div class="ttc" id="classMetaDataAllocatorImpl_html"><div class="ttname"><a href="classMetaDataAllocatorImpl.html">MetaDataAllocatorImpl</a></div><div class="ttdoc">Specialization of the PoolAllocator for MetaData objects. </div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8cc_source.html#l00177">MessageManager.cc:177</a></div></div>
<div class="ttc" id="Log_8h_html_a56b44a9b832c6010497b6fc884fe2966"><div class="ttname"><a href="Log_8h.html#a56b44a9b832c6010497b6fc884fe2966">LOGTOUT</a></div><div class="ttdeci">#define LOGTOUT</div><div class="ttdoc">Macro to conditionally obtain a log stream if log device is accepting trace messages. </div><div class="ttdef"><b>Definition:</b> <a href="Log_8h_source.html#l00659">Log.h:659</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1Preamble_html_ac5f49de865c2b99c6d6c5aaaa7dcec8ea31f810d3cd230d2b6bc3fa9d032e3d73"><div class="ttname"><a href="classSideCar_1_1IO_1_1Preamble.html#ac5f49de865c2b99c6d6c5aaaa7dcec8ea31f810d3cd230d2b6bc3fa9d032e3d73">SideCar::IO::Preamble::kCDRStreamSize</a></div><div class="ttdoc">Number of bytes in preamble. </div><div class="ttdef"><b>Definition:</b> <a href="Preamble_8h_source.html#l00033">Preamble.h:33</a></div></div>
<div class="ttc" id="classSideCar_1_1IO_1_1Preamble_html"><div class="ttname"><a href="classSideCar_1_1IO_1_1Preamble.html">SideCar::IO::Preamble</a></div><div class="ttdoc">Definition of the preamble found at the beginning of all SideCar messages, regardless of content type...</div><div class="ttdef"><b>Definition:</b> <a href="Preamble_8h_source.html#l00022">Preamble.h:22</a></div></div>
<div class="ttc" id="classSideCar_1_1Messages_1_1MetaTypeInfo_html"><div class="ttname"><a href="classSideCar_1_1Messages_1_1MetaTypeInfo.html">SideCar::Messages::MetaTypeInfo</a></div><div class="ttdoc">Unique identification for message types/classes. </div><div class="ttdef"><b>Definition:</b> <a href="MetaTypeInfo_8h_source.html#l00025">MetaTypeInfo.h:25</a></div></div>
<div class="ttc" id="structSideCar_1_1IO_1_1MessageManager_1_1MetaData_html"><div class="ttname"><a href="structSideCar_1_1IO_1_1MessageManager_1_1MetaData.html">SideCar::IO::MessageManager::MetaData</a></div><div class="ttdoc">Internal class that contains the channel ID the message belongs to and a reference to a SideCar messa...</div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8h_source.html#l00068">MessageManager.h:68</a></div></div>
<div class="ttc" id="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats_html"><div class="ttname"><a href="structSideCar_1_1IO_1_1MessageManager_1_1AllocationStats.html">SideCar::IO::MessageManager::AllocationStats</a></div><div class="ttdoc">Collection of statistics that describe how much memory is allocated by the Utils::Pool objects used i...</div><div class="ttdef"><b>Definition:</b> <a href="MessageManager_8h_source.html#l00095">MessageManager.h:95</a></div></div>
</div><!-- fragment --></div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
